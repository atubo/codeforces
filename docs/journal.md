---
layout: page
title: Journal
---

<p class="message">
Journal of the problems I have worked on
</p>

### 03/03
* [洛谷 3420] [POI2005]SKA-Piggy Banks：拓扑排序。

### 03/02
* [洛谷 1553] 数字反转（升级版）
* [洛谷 1986] 元旦晚会：差分约束，SPFA求最短路。

### 03/01
* [洛谷 1026] 统计单词个数。用 $dp(i,j,k)$ 表示 $s_{i,j}$ 分 $k$ 份的最大
个数。则 $dp(i,j,k)=\max\limits_{p=i+k-1}^{j-1}(dp(i,p,k-1)+dp(p,j,1))$ 。

### 02/28
* [洛谷 1908] 逆序对：Merge sort
* [洛谷 2985] [USACO10FEB]吃巧克力Chocolate Eating：二分查找。

### 02/27
* [洛谷 1498] 南蛮图腾：递归水题。
* [洛谷 3402] 最长公共子序列：用 $dp(j)$ 表示以序列B中下标为i的元素结尾的公共子序列
的最大长度。对A中每个元素 $a_i$ , 找到相应元素在B中的下标j, 那么
$dp(j)=\max\limits_{k=0}^{j-1}(dp(k)+1)$ 。 用线段树来维护和查询。

### 02/24
* [洛谷 1010] 幂次方：分治水题。

### 02/23
* [洛谷 1226] 取余运算 快速幂：分治水题。
* [洛谷 2513] [HAOI2009]逆序对数列：DP。 $dp(n,k)$ 表示n个元素，逆序对数为k的
方案数。如果1出现在位置j，则关于1的逆序对为j-1，所以有
$dp(n,k)=\sum\limits_{j=1}^{\min(n,k+1)} dp(n-1,k-j+1)$

### 02/22
* [洛谷 2814] 家谱（gen）：并查集。
* [洛谷 1472] 奶牛家谱 Cow Pedigrees：DP，$dp(n,k)$ 表示大小为 $n$, 高度小于等于
$k$ 的方案数。有
$dp(n,k)=\sum\limits_{m=1}^{n-2} dp(m,k-1)\cdot dp(n-m-1,k-1)$ 。答案为
$dp(N,K)-dp(N,K-1)$ 。

### 02/21
* [洛谷 1192] 台阶问题：DP水题。

### 02/20
* [洛谷 1057] 传球游戏：答案是
$\sum\limits_{k=-\lfloor \frac {m}{n}\rfloor}^{\lfloor \frac {m}{n}\rfloor}{m \choose \frac {m+k\cdot n}{2}}$

### 02/19
* [洛谷 3396] 哈希冲突：分块，将序列分块， 每块大小为 $\sqrt{n}$ 。
stat[b][p][k] 表示块b内模为p, 余数为k的池内数的总和。只须处理 $p<\sqrt{n}$
的情况， $p\ge \sqrt{n}$ 时暴力处理。预处理时间 $O(n \sqrt {n})$ , 查询时间
$O(m \sqrt {n})$. AC后看题解发现stat的第一维虽然帮助理解，但完全没有必要
(因为查询均为全序列查询)，可以大幅降低内存使用。
* [BZOJ 1833] [ZJOI2010]count 数字计数: 数位DP。

### 02/18
* [洛谷 1565] 牛宫：枚举(row1, row2) 对，对每一个(row1, row2) 对，维持一个
前缀和的单调队列，扫到第k列时，二分查找第一个满足 $S_j \le S_k$ 的 $j$ .
* [洛谷 1135] 奇怪的电梯： BFS水题。

### 02/17
* [洛谷 1316] 丢瓶盖：二分查找。
* [洛谷 1627] 中位数：设b所在的位置为k,将原数列转化：大于b的变为1，小于b的
变为-1，b变为0。问题转化为：有多少包含 $k$ 的区间 $[i,j]$ 满足区间部分和为0.
求出k左边的部分和频率统计，再从k向右扫描，累加左边对应的部分和频率。

### 02/16
* [洛谷 1025] 数的划分： $dp(n, k)$ 表示 $n$ 分成 $k$ 份的方案数。考虑
每种方案都已排序的情况。第一个元素为1的方案数为 $dp(n-1,k-1)$,
第一个元素为2的方案数为 $dp(n-1-k,k-1)$, 由此
$dp(n,k)=\sum\limits_{k=1}^{\lfloor \frac {n}{k} \rfloor} dp(n-1-(j-1)\cdot k, k-1)$
* [洛谷 2059] [JLOI2013]卡牌游戏：类似Josephus问题， 用 $dp(n,i)$ 表示
$n$ 个玩家的情况下， 第 $i$ 个玩家获胜的概率。只须找到对于卡牌面值 $x$,
玩家 $i$ 在下一轮中相对于庄家的位置就可得出转移方程。

### 02/15
* [POJ 3252] Round Numbers: 数位DP。 $dp(ndiff, pos, d)$ 表示0和1的数目
差为ndiff,当前位置为pos，当前数字为d的方案数。
* [洛谷 1216] [USACO1.5]数字金字塔 Number Triangles：DP水题。
* [洛谷 1182] 数列分段Section II：二分查找可行解。

### 02/14
* [洛谷 1052] 过河：同Tyvj 1059, 注意到当两颗石子相距 $d\gt T^2+1$ 时，结果
不再发生变化，利用这个可有效地缩小DP搜索范围。
* [洛谷 1063] 能量项链：DP， $dp(i,j)$ 表示 $[i,j]$ 段的最大能量。数组拼接
自身处理绕回。
* [洛谷 1641] [SCOI2010]生成字符串：答案是
 ${n+m \choose n}-{n+m \choose n+1}$ . 与Catalan数有关。

### 02/13
* [洛谷 1541] 乌龟棋： DP， $dp(a,b,c,d)$ 表示用过面值为1，2，3，4的牌数分别
为 $a,b,c,d$ 时的最大分值。
* [HDU 3652] B-number: 数位DP。$dp(seen, r, pos, d', d)$ 表示当前位置为
pos, 前一位数字为 $d'$, 当前数字为 $d$, 前缀模13为 $r$, 前缀包含13的状态为
seen 的方案数。
* [Leetcode 295] Find Median from Data Stream: 上下各一个heap.

### 02/12
* [洛谷 1006] 传纸条：双路DP。
* [洛谷 1508] Likecloud-吃、吃、吃：简单DP。

### 02/11
* [洛谷 1855] 榨取kkksc03：简单二维背包。
* [Codeforces 55D] Beautiful numbers: 数位DP经典题。
* [洛谷 1387] 最大正方形：水题不表。
* [HDU 3709] Balanced Number: 数位DP， $dp[t][p][d]$ 表示对于特定的支撑点，
力矩为 $t$, 位置为 $p$, 数字为 $d$ 的方案数，最外层枚举所有可能的支撑点。
* [洛谷 1417] 烹调方案：贪心+DP。先按 $\frac {c_i}{b_i}$ 从小到大排序，
再做背包DP。

### 02/10
* [Leetcode 127] Word Ladder: BFS.
* [洛谷 1108] 低价购买：类似LIS，但要求拥有最大购买次数的方案数，用 $dp(i)$ 表示
数字 $i$ 结尾的 （最大递增长度，方案数）二元组。复杂度 $O(N^2)$ 。用线段树应该可以
达到 $O(N \log N)$ 。
* [洛谷 1736] 创意吃鱼法：类似最大0-正方子矩阵，注意对角线可能有两种方向。

### 02/09
* [洛谷 1282] 多米诺骨牌：简单DP类似背包问题，用 $dp(k,i)$ 表示处理到第 $k$ 个骨牌
时 上下差值为 $i$ 的最小翻转数。注意每次翻转差值改变是骨牌点数差的两倍。
* [Leetcode 139] Word Break: 一开始试图暴力搜未果（TLE），DP之。
* [Leetcode 140] Word Break II: 类似Word Break， 不过要存所有合法的断开点。注意
重建时也要记忆化，否则TLE。神犇们也许有更优雅的解法？

### 02/08
* [洛谷 1880] 石子合并：简单DP，数组拼接一下处理绕回的情况就可以了。
* [洛谷 2327] [SCOI2005] 扫雷：状压DP，用 $dp(i,m)$ 表示位置为 $i$ 时，本格和上一格
的状态为 $m$ 的可行解数。

### 02/07
* [洛谷 1280] 尼克的任务：简单DP， $dp(i)$ 表示 时刻 $i$ 开始的最短工作时间。
* [洛谷 2224] [HNOI2001]产品加工：DP神题，本蒟蒻只能看[题解](http://qkxue.net/info/144153/Bzoj-HNOI-1222-2001),基本思想是用 $dp(i)$ 表示A机器耗时 $i$ 的情况下机器B的最短耗时。
* [洛谷 2261] [CQOI2007]余数求和：有意思的数学题，分块求解，
[解题报告]({{ site.baseurl}}{% post_url 2017-02-07-luogu-2261 %})

### 02/06
* [POJ 2823] Sliding Window: 单调队列，奇葩的是此题用G++提交就TLE了，用C++才能AC。
* [洛谷 1091] 合唱队形：LIS，求到每点结束的最长递增子序列的长度，正反各求一遍
就可以了。
* [HDU 3415] Max Sum of Max-K-sub-sequence: 转化为部分和，求长度小于等于K的区间
的最大差值。用单调队列解。将原数组复制一份拼接起来处理绕回的情况。为满足多个解情况下
题目的要求，将原数组倒排了一下（也许有更优雅的处理办法？）

### 02/05
* [洛谷 2331] [SCOI2005] 最大子矩阵：DP单调性优化，[解题报告]({{ site.baseurl }}{% post_url 2017-02-05-luogu-2331 %})
* [洛谷 2051] [AHOI2009]中国象棋： 看了[题解](http://blog.csdn.net/jiangyuze831/article/details/41518243)
才知道怎么做，用 $f(i,j,k)$ 表示进行到第 $i$ 行时， 有一枚棋子的列数为 $j$,
有两枚棋子的列数为 $k$ 的合法状态数。
* [洛谷 2216] [HAOI2007] 理想的正方形：可以用类似ST求RMQ的方法求出每一个
$n\cdot n$ 的正方形内的最大和最小值。

### 02/04
* [洛谷 1088] 火星人： next permutation 的水题，第一遍居然写错了。
* [洛谷 1156] 垃圾陷阱：简单DP， $dp(t,h)$ 表示在 $t$ 时刻，垃圾堆高度为 $h$ 的情况下
奶牛最大剩余存活时间。要注意垃圾堆高度超过 $D$ 的情况，和单一时刻有多个垃圾堆落下的情况。
* [洛谷 1045] 麦森数：快速幂+高精，求数的长度一开始居然忘了用 $\lg 2$.
* [洛谷 1029] 最大公约数和最小公倍数问题：令 $x=\frac {y_0}{x_0}$ ,
找到 $x$ 的质因子个数 $m$, 答案为 $2^m$ . 注意处理 $x_0 \nmid y_0$
的情况。
* [洛谷 1273] 有线电视网：树上DP+背包。令 $dp(u,k)$ 表示结点 $u$ 服务 $k$ 个用户
的最大收益。状态转移类似背包问题。注意循环方向和嵌套顺序，父结点 $k$ 循环必须从大到小，
且必须在子结点 $k'$ 循环的外面 (WA 一发在此)。

### 02/03
* [洛谷 1020] 导弹拦截： 最长递增子序列（LIS）
* [洛谷 1019] 单词接龙： 先预处理单词 $i$ 后接单词 $j$ 龙长度的增加量，然后暴力深搜。

### 02/02
* [洛谷 1040] 加分二叉树： DP
* [洛谷 1169] [ZJOI2007]棋盘制作：对每一列用求最大矩形的方法算一遍，复杂度 $O(MN)$.
题解里有人提到将行列和为偶数的元素取反，将问题转化为求0或1的正方形/矩形，也很有趣。

### 02/01
* [洛谷 1373] 小a和uim之大逃离：DP， $dp[i][j][k]$ 表示初始位置 $(i,j)$ , 最终差值模
$(K+1)$ 等于 $k$ 的方法数。
* [洛谷 2279] [HNOI2003]消防局的设立： 贪心，从深度最大的未被覆盖结点开始，将消防局
建在它的祖父结点上。

### 01/31
* [洛谷 1005] 矩阵取数游戏：DP + 高精
* [洛谷 1220] 关路灯：简单DP

### 01/30
* [洛谷 1064] 金明的预算方案：背包套背包， 选了主件后选不同的附件是小背包，选不同的主件是
大背包。

### 01/29
* [POJ 2431] Expedition: 贪心+优先队列。尽可能走远，如果油不够则从已经过的加油站中
按储量从大到小加直到油量为正。

### 01/28
* [洛谷 1268] 树的重量： 图论， 构造性解法， [解题报告]({{ site.baseurl }}{% post_url 2017-01-28-luogu-1268 %})
* [洛谷 1525] 关押罪犯： 二分查找 + 构建二分图。
* [洛谷 1983] 车站分级： 对每一车次始终区间内每一个不停靠的车站$i$, 均可向每一个停靠的车站$j$
引一条有向边，问题转化为求图的最长路径。注意此题重边极多，须用邻接矩阵，否则会TLE。

### 01/27
* [HDU 3530] Subsequence: DP单调队列优化，[解题报告]({{ site.baseurl }}{% post_url 2017-01-27-HDU-3530-Subsequence %})
* [洛谷 1113] 杂务： 拓扑排序 + DP求最长路径。

### 01/26
* [POJ 2299] Ultra-QuickSort: 求逆序对数。
* [HDU 3401] Trade: DP单调队列优化好题，[解题报告]({{ site.baseurl }}/{% post_url 2017-01-26-HDU-3401-Trade %})
* [洛谷 1474] 货币系统 Money Systems: 简单DP

### 01/25
* [HDU 2993] MAX Average Problem: 数形结合，求凸包，但输入卡得太严，倒是测快速IO的好题?!

### 01/24
* [HDU 2829] Lawrence: DP斜率优化 [解题报告]({{ site.baseurl }}/{% post_url 2017-01-25-HDU-2829-Lawrence %}).

### 01/23
* [洛谷 3195] [HNOI2008]玩具装箱TOY: DP斜率优化模板
* [HDU 3507] Print Article: DP斜率优化模板

### 01/22
* [洛谷 2375] 动物园: z-函数 + Fenwick Tree
[解题报告]({{ site.baseurl }}/{% post_url 2017-01-22-luogu-p2375 %}).
* [BZOJ 1022] [SHOI2008]小约翰的游戏: 简单应用SJ定理.

### 01/21
* [洛谷P2495] [SDOI2011]消耗战: 虚树+树形DP，虚树讲解[见此](https://blog.sengxian.com/algorithms/virtual-tree)

### 01/19
* [洛谷 2597]  [ZJOI2012]灾难： 由无环有向图求出“灭绝树”，
见[这里](http://fanhq666.blog.163.com/blog/static/8194342620124274154996/).
* [POJ 3264] Balanced Lineup: RMQ模板题。

### 01/18
* [Codeforces 609E] 与[洛谷P1967]类似，求最小生成树两结点间路径
的边权最大值。
* [POJ 1330] LCA模板题。
* [POJ 3368] 可将 $(a, a, a, b, b, c, c...)$ 转化成    $(1,2,3,1,2,1,2...)$ 的形式,再用RMQ解。注意左端点需要特殊处理。
* [BZOJ 1787] 紧急集合: 容易证明集合点必为其中两点的LCA，
可枚举求解。

### 01/17
* [洛谷 1967] 货车运输： 先求出最大生成树，再用倍增LCA的方法求出
任意两结点间路径的边权最小值。

### 01/16
* [HDU 5902] [GCD is funny]({{ site.baseurl }}{% post_url  2017-01-15-gcd-is-funny %})
* [51nod 1290] Counting diff pairs: 莫队算法，直接用pb_ds tree
会TLE，离散化后用BIT解。
